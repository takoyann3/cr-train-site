<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CR路線検索</title>
</head>
<body>

<h2>CR 路線検索</h2>

<select id="start">
  <option value="0">A駅</option>
  <option value="1">B駅</option>
  <option value="2">C駅</option>
  <option value="3">D駅</option>
</select>

<select id="end">
  <option value="0">A駅</option>
  <option value="1">B駅</option>
  <option value="2">C駅</option>
  <option value="3">D駅</option>
</select>

<button onclick="calc()">検索</button>

<p id="result"></p>

<button onclick="startTimer()">出発</button>
<p id="timer"></p>

<script>
const times = [0,3,8,12];

function calc(){
  let s = document.getElementById("start").value;
  let e = document.getElementById("end").value;
  let diff = Math.abs(times[e] - times[s]);
  document.getElementById("result").innerText = diff + "分かかります";
  window.travelTime = diff * 60;
}

function startTimer(){
  let time = window.travelTime;
  let interval = setInterval(function(){
    if(time <= 0){
      clearInterval(interval);
      document.getElementById("timer").innerText = "到着！";
    } else {
      document.getElementById("timer").innerText = time + "秒";
      time--;
    }
  },1000);
}
</script>

</body>
</html>
